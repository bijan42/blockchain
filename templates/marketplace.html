{% extends "layout.html" %}
{% block content %}
<div class="container">
    <h1>Marketplace</h1>
    <div>
        {% if items %}
            <table>
                <thead>
                    <tr>
                        <th>Item Name</th>
                        <th>Price</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in items %}
                    <tr>
                        <td>{{ item['item_name'] }}</td>
                        <td>{{ item['price'] }} coins</td>
                        <td>
                            <form method="post" action="{{ url_for('purchase_item') }}">
                                <input type="hidden" name="contract_id" value="{{ item['contract_id'] }}">
                                <button type="submit">Buy</button>
                            </form>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>No items available for purchase at the moment.</p>
        {% endif %}
    </div>
</div>
{% endblock content %}
